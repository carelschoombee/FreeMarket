<div class="modal fade" id="EditModal" tabindex="-1" role="dialog">
    <div id='EditContainer'>
    </div>
</div>

<script type="text/javascript" src="~/Scripts/bootstrapValidator.min.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $('.editClass').click(function (evt) {
            evt.preventDefault();
            var urlId = $(this).data('id');
            $.ajax({
                url: urlId,
                cache: false
            }).done
            (function (data) {
                $('#EditContainer').html(data);
            });
            $('.modal-content').empty();
            $('#EditModal').removeData('bs.modal');
            $('#EditModal').modal('show');
        });
    });

    function editModal() {
        $(function () {
            $('#editForm')
                    .bootstrapValidator({
                        feedbackIcons: {
                            valid: 'glyphicon glyphicon-ok',
                            invalid: 'glyphicon glyphicon-remove',
                            validating: 'glyphicon glyphicon-refresh'
                        },
                        fields: {
                            MMRolloutDescription: {
                                validators: {
                                    notEmpty: {
                                        message: 'The field is required.'
                                    },
                                    stringLength: {
                                        message: 'Max string length is 100.',
                                        max: 100
                                    },
                                    regexp: {
                                        regexp: /^[A-Za-z0-9\,\.\_\s]+$/,
                                        message: 'Alphabetic characters, spaces, commas, underscores and numbers only'
                                    }
                                }
                            },
                            PatchNo: {
                                validators: {
                                    notEmpty: {
                                        message: 'The field is required.'
                                    },
                                    stringLength: {
                                        message: 'Max string length is 100.',
                                        max: 100
                                    },
                                    regexp: {
                                        regexp: /^[A-Za-z0-9\,\.\_\s]+$/,
                                        message: 'Alphabetic characters, spaces, commas, underscores and numbers only'
                                    }
                                }
                            },
                            MMRolloutKey: {
                                validators: {
                                    notEmpty: {
                                        message: 'The field is required.'
                                    }
                                }
                            },
                            'countries[]': {
                                validators: {
                                    choice: {
                                        min: 1,
                                        message: 'Please choose at least one country'
                                    }
                                }
                            },
                            'brands[]': {
                                validators: {
                                    choice: {
                                        min: 1,
                                        message: 'Please choose at least one brand'
                                    }
                                }
                            },
                            'tillTypes[]': {
                                validators: {
                                    choice: {
                                        min: 1,
                                        message: 'Please choose at least one till type'
                                    }
                                }
                            }
                        }
                    }).on('success.form.bv', function (e) {
                        e.preventDefault();
                        $('.modal-backdrop').remove();
                        $('#EditModal').modal('hide');
                    }).on('error.form.bv', function (e) {
                        e.preventDefault();
                    })
        });
    }
</script>

